{% extends "base.html" %}
{% block meta %}
<title>Pengaturan Profil</title>
{% endblock meta %}

{% block content %}
<div style="background-color: #f2eab8; min-height: 100vh;" class="d-flex flex-column justify-content-center align-items-center">
    <div class="border shadow-sm p-4 rounded-3 bg-white" style="width: 500px;">
        <h1 class="text-center mb-4">Pengaturan Profil {{data_profile.role}}</h1>
        <form method="post">
            {% csrf_token %}
            <div class="mb-3">
                <label>Username</label>
                <input type="text" name="username" value="{{data_profile.username}}" class="form-control" required>
            </div>
            <div class="mb-3">
                <label>Nama Depan</label>
                <input type="text" name="nama_depan" value="{{data_profile.nama_depan}}" class="form-control" required>
            </div>
            <div class="mb-3">
                <label>Nama Tengah (Opsional)</label>
                <input type="text" name="nama_tengah" value="{{ data_pengunjung.nama_tengah|default_if_none:'' }}" class="form-control">
            </div>
            <div class="mb-3">
                <label>Nama Belakang</label>
                <input type="text" name="nama_belakang" value="{{data_profile.nama_belakang}}" class="form-control" required>
            </div>
            <div class="mb-3">
                <label>Email</label>
                <input type="email" name="email" value="{{data_profile.email}}" class="form-control" required>
            </div>
            <div class="mb-3">
                <label>Nomor Telepon</label>
                <input type="text" name="no_telepon" value="{{data_profile.no_telepon}}" class="form-control" required>
            </div>
            <div class="mb-3">
                <label>Nomor STR (Sertifikasi)</label>
                <input type="text" name="no_str" value="{{data_profile.no_str}}" class="form-control" readonly>
            </div>
            <div class="mb-3">
                <label>Spesialisasi</label><br>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="spesialisasi" value="Mamalia Besar"
                        {% if "Mamalia Besar" in data_profile.spesialisasi %}checked{% endif %}>
                    <label class="form-check-label">Mamalia Besar</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="spesialisasi" value="Reptil"
                        {% if "Reptil" in data_profile.spesialisasi %}checked{% endif %}>
                    <label class="form-check-label">Reptil</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="spesialisasi" value="Burung Eksotis"
                        {% if "Burung Eksotis" in data_profile.spesialisasi %}checked{% endif %}>
                    <label class="form-check-label">Burung Eksotis</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="spesialisasi" value="Primata"
                        {% if "Primata" in data_profile.spesialisasi %}checked{% endif %}>
                    <label class="form-check-label">Primata</label>
                </div>
                {% for lainnya in data_profile.spesialisasi_lainnya %}
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="spesialisasi" value="{{ lainnya }}" checked>
                    <label class="form-check-label">{{ lainnya }}</label>
                    <input type="hidden" name="spesialisasi" value="{{ lainnya }}">
                </div>
                {% endfor %}
                <input type="text" name="spesialisasi_lainnya" class="form-control mt-2" placeholder="Lainnya (opsional)">
            </div>
            <div class="d-flex flex-column gap-2">
                <button type="submit" class="btn btn-success w-100">Simpan</button>
                <a href="{% url 'authentication:change_password' %}" class="btn btn-secondary w-100">Ubah Password</a>
                <a href="{% url 'authentication:profile_pengguna' %}" class="btn btn-secondary w-100">Batal</a>
            </div>
        </form>
    </div>
</div>
{% endblock content %}